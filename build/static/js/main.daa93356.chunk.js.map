{"version":3,"sources":["helpers.js","Bullet.js","Particle.js","Ship.js","Asteroid.js","Reacteroids.js","components/ScoresBarStyles.js","components/ScoresMenu/ScoresMenu.jsx","components/ScoresBar.jsx","config.js","App.js","index.js"],"names":["rotatePoint","p","center","angle","x","Math","cos","y","sin","randomNumBetween","min","max","random","randomNumBetweenExcluding","exMin","exMax","Bullet","args","Object","classCallCheck","this","posDelta","ship","rotation","PI","position","velocity","radius","delete","state","screen","width","height","destroy","context","save","translate","rotate","fillStyle","lineWidth","beginPath","arc","closePath","fill","restore","Particle","size","lifeSpan","inertia","moveTo","Ship","rotationSpeed","speed","lastShot","create","onDie","i","particle","dir","val","keys","space","Date","now","bullet","strokeStyle","lineTo","stroke","Asteroid","score","addScore","vertices","count","rad","round","asteroidVertices","asteroid","bind","length","Reacteroids","_Component","_this","possibleConstructorReturn","getPrototypeOf","call","window","innerWidth","innerHeight","ratio","devicePixelRatio","left","right","up","down","lpm","asteroidCount","currentScore","topScore","localStorage","inGame","asteroids","bullets","particles","inherits","createClass","key","value","e","setState","console","log","_this2","addEventListener","handleKeys","handleResize","refs","canvas","getContext","startGame","requestAnimationFrame","update","removeEventListener","_this3","scale","globalAlpha","fillRect","generateAsteroids","checkCollisionsWith","updateObjects","points","_this4","createObject","gameOver","document","getElementById","event","cords","showCoords","p1","p2","angleDeg","atan2","clientX","clientY","howMany","item","group","push","items","index","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","splice","render","err","return","items1","items2","b","a","item1","item2","checkCollision","obj1","obj2","vx","vy","sqrt","endgame","message","react_default","createElement","className","onClick","id","ref","Component","ScoresBarCont","styled","div","_templateObject","_templateObject2","ScoresMenu","_React$useState","React","useState","_React$useState2","slicedToArray","anchorEl","setAnchorEl","open","Boolean","handleClose","Button","aria-owns","aria-haspopup","currentTarget","Menu","onClose","TransitionComponent","Fade","MenuItem","ScoresBar","props","classes","makeStyles","root","background","border","borderRadius","boxShadow","color","padding","display","flexWrap","justifyContent","alignContent","useStyles","styles","startButtonStyle","fontSize","style","setCurrentScreen","ScoresMenu_ScoresMenu","setScores","config","server_url","account_url","client_id","App","_useState","_useState2","accessToken","setAccessToken","_useState3","_useState4","currentScreen","useEffect","accountsSdk","init","onIdentityFetched","error","data","access_token","warn","location","href","concat","ScoresBar_ScoresBar","Reacteroids_Reacteroids","src_App"],"mappings":"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","file":"static/js/main.daa93356.chunk.js","sourcesContent":["// From: http://codepen.io/bungu/pen/rawvJe\r\n\r\n/**\r\n * Generates vertices for asteroid polygon with certain count and radius\r\n * @param  {Number} count   Number of vertices\r\n * @param  {Number} rad     Maximal radius of polygon\r\n * @return {Array}        Array of vertices: {x: Number, y: Number}\r\n */\r\nexport function asteroidVertices(count, rad) {\r\n  let p = [];\r\n  for (let i = 0; i < count; i++) {\r\n    p[i] = {\r\n      x: (-Math.sin((360/count)*i*Math.PI/180) + Math.round(Math.random()*2-1)*Math.random()/3)*rad,\r\n      y: (-Math.cos((360/count)*i*Math.PI/180) + Math.round(Math.random()*2-1)*Math.random()/3)*rad\r\n    };\r\n  }\r\n  return p;\r\n};\r\n\r\n/**\r\n * Rotate point around center on certain angle\r\n * @param {Object} p        {x: Number, y: Number}\r\n * @param {Object} center   {x: Number, y: Number}\r\n * @param {Number} angle    Angle in radians\r\n */\r\nexport function rotatePoint(p, center, angle) {\r\n  return {\r\n    x: ((p.x-center.x)*Math.cos(angle) - (p.y-center.y)*Math.sin(angle)) + center.x,\r\n    y: ((p.x-center.x)*Math.sin(angle) + (p.y-center.y)*Math.cos(angle)) + center.y\r\n  };\r\n};\r\n\r\n/**\r\n * Random Number between 2 numbers\r\n */\r\nexport function randomNumBetween(min, max) {\r\n  return Math.random() * (max - min + 1) + min;\r\n};\r\n\r\n/**\r\n * Random Number between 2 numbers excluding a certain range\r\n */\r\nexport function randomNumBetweenExcluding(min, max, exMin, exMax) {\r\n  let random = randomNumBetween(min, max);\r\n  while (random > exMin && random < exMax) {\r\n    random = Math.random() * (max - min + 1) + min;\r\n  }\r\n  return random;\r\n};\r\n","import { rotatePoint } from './helpers';\r\n\r\nexport default class Bullet {\r\n  constructor(args) {\r\n    let posDelta = rotatePoint({x:0, y:-20}, {x:0,y:0}, args.ship.rotation * Math.PI / 180);\r\n    this.position = {\r\n      x: args.ship.position.x + posDelta.x,\r\n      y: args.ship.position.y + posDelta.y\r\n    };\r\n    this.rotation = args.ship.rotation;\r\n    this.velocity = {\r\n      x:posDelta.x / 2,\r\n      y:posDelta.y / 2\r\n    };\r\n    this.radius = 2;\r\n  }\r\n\r\n  destroy(){\r\n    this.delete = true;\r\n  }\r\n\r\n  render(state){\r\n    // Move\r\n    this.position.x += this.velocity.x;\r\n    this.position.y += this.velocity.y;\r\n\r\n    // Delete if it goes out of bounds\r\n    if ( this.position.x < 0\r\n      || this.position.y < 0\r\n      || this.position.x > state.screen.width\r\n      || this.position.y > state.screen.height ) {\r\n        this.destroy();\r\n    }\r\n\r\n    // Draw\r\n    const context = state.context;\r\n    context.save();\r\n    context.translate(this.position.x, this.position.y);\r\n    context.rotate(this.rotation * Math.PI / 180);\r\n    context.fillStyle = 'rgb(58, 58, 58)';\r\n    context.lineWidth = 0.5;\r\n    context.beginPath();\r\n    context.arc(0, 0, 2, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    context.restore();\r\n  }\r\n}\r\n","export default class Particle {\r\n  constructor(args) {\r\n    this.position = args.position\r\n    this.velocity = args.velocity\r\n    this.radius = args.size;\r\n    this.lifeSpan = args.lifeSpan;\r\n    this.inertia = 0.98;\r\n  }\r\n\r\n  destroy(){\r\n    this.delete = true;\r\n  }\r\n\r\n  render(state){\r\n    // Move\r\n    this.position.x += this.velocity.x;\r\n    this.position.y += this.velocity.y;\r\n    this.velocity.x *= this.inertia;\r\n    this.velocity.y *= this.inertia;\r\n\r\n    // Shrink\r\n    this.radius -= 0.1;\r\n    if(this.radius < 0.1) {\r\n      this.radius = 0.1;\r\n    }\r\n    if(this.lifeSpan-- < 0){\r\n      this.destroy()\r\n    }\r\n\r\n    // Draw\r\n    const context = state.context;\r\n    context.save();\r\n    context.translate(this.position.x, this.position.y);\r\n    context.fillStyle = '#e34840';\r\n    context.lineWidth = 2;\r\n    context.beginPath();\r\n    context.moveTo(0, -this.radius);\r\n    context.arc(0, 0, this.radius, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    context.restore();\r\n  }\r\n}\r\n","import Bullet from './Bullet';\r\nimport Particle from './Particle';\r\nimport { rotatePoint, randomNumBetween } from './helpers';\r\n\r\nexport default class Ship {\r\n  constructor(args) {\r\n    this.position = args.position\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n    this.rotation = 0;\r\n    this.rotationSpeed = 6;\r\n    this.speed = 0.15;\r\n    this.inertia = 0.99;\r\n    this.radius = 20;\r\n    this.lastShot = 0;\r\n    this.create = args.create;\r\n    this.onDie = args.onDie;\r\n  }\r\n\r\n  destroy(){\r\n    this.delete = true;\r\n    this.onDie();\r\n\r\n    // Explode\r\n    for (let i = 0; i < 60; i++) {\r\n      const particle = new Particle({\r\n        lifeSpan: randomNumBetween(60, 100),\r\n        size: randomNumBetween(1, 4),\r\n        position: {\r\n          x: this.position.x + randomNumBetween(-this.radius/4, this.radius/4),\r\n          y: this.position.y + randomNumBetween(-this.radius/4, this.radius/4)\r\n        },\r\n        velocity: {\r\n          x: randomNumBetween(-1.5, 1.5),\r\n          y: randomNumBetween(-1.5, 1.5)\r\n        }\r\n      });\r\n      this.create(particle, 'particles');\r\n    }\r\n  }\r\n\r\n  rotate(dir){\r\n    if (dir == 'LEFT') {\r\n      this.rotation -= this.rotationSpeed;\r\n    }\r\n    if (dir == 'RIGHT') {\r\n      this.rotation += this.rotationSpeed;\r\n    }\r\n  }\r\n\r\n  accelerate(val){\r\n    // this.velocity.x -= Math.sin(-this.rotation*Math.PI/180) * this.speed;\r\n    // this.velocity.y -= Math.cos(-this.rotation*Math.PI/180) * this.speed;\r\n\r\n    // Thruster particles\r\n    let posDelta = rotatePoint({x:0, y:-10}, {x:0,y:0}, (this.rotation-180) * Math.PI / 180);\r\n    const particle = new Particle({\r\n      lifeSpan: randomNumBetween(20, 40),\r\n      size: randomNumBetween(1, 3),\r\n      position: {\r\n        x: this.position.x + posDelta.x + randomNumBetween(-2, 2),\r\n        y: this.position.y + posDelta.y + randomNumBetween(-2, 2)\r\n      },\r\n      velocity: {\r\n        x: posDelta.x / randomNumBetween(3, 5),\r\n        y: posDelta.y / randomNumBetween(3, 5)\r\n      }\r\n    });\r\n    this.create(particle, 'particles');\r\n  }\r\n\r\n  render(state){\r\n    // Controls\r\n    \r\n    if(state.keys.space && Date.now() - this.lastShot > 300){\r\n      const bullet = new Bullet({ship: this});\r\n      this.create(bullet, 'bullets');\r\n      this.lastShot = Date.now();\r\n    }\r\n\r\n    // Move\r\n    // this.position.x += this.velocity.x;\r\n    // this.position.y += this.velocity.y;\r\n    // this.velocity.x *= this.inertia;\r\n    // this.velocity.y *= this.inertia;\r\n\r\n    // Rotation\r\n    if (this.rotation >= 360) {\r\n      this.rotation -= 360;\r\n    }\r\n    if (this.rotation < 0) {\r\n      this.rotation += 360;\r\n    }\r\n\r\n    // Screen edges\r\n    if(this.position.x > state.screen.width) this.position.x = 0;\r\n    else if(this.position.x < 0) this.position.x = state.screen.width;\r\n    if(this.position.y > state.screen.height) this.position.y = 0;\r\n    else if(this.position.y < 0) this.position.y = state.screen.height;\r\n\r\n    // Draw\r\n    const context = state.context;\r\n    context.save();\r\n    context.translate(this.position.x, this.position.y);\r\n    context.rotate(this.rotation * Math.PI / 180);\r\n    context.strokeStyle = 'rgb(58, 58, 58)';\r\n    context.fillStyle = 'rgb(58, 58, 58)';\r\n    context.lineWidth = 2;\r\n    context.beginPath();\r\n    context.moveTo(0, -15);\r\n    context.lineTo(10, 10);\r\n    context.lineTo(5, 7);\r\n    context.lineTo(-5, 7);\r\n    context.lineTo(-10, 10);\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n    context.restore();\r\n  }\r\n}\r\n","import Particle from './Particle';\r\nimport { asteroidVertices, randomNumBetween } from './helpers';\r\n\r\nexport default class Asteroid {\r\n  constructor(args) {\r\n    this.position = args.position\r\n    this.velocity = {\r\n      x: randomNumBetween(-1.5, 1.5),\r\n      y: randomNumBetween(-1.5, 1.5)\r\n    }\r\n    this.rotation = 0;\r\n    this.rotationSpeed = randomNumBetween(-1, 1)\r\n    this.radius = args.size;\r\n    this.score = (40/this.radius)*5;\r\n    this.create = args.create;\r\n    this.addScore = args.addScore;\r\n    this.vertices = asteroidVertices(8, args.size)\r\n  }\r\n\r\n  destroy(){\r\n    this.delete = true;\r\n    this.addScore(this.score);\r\n\r\n    // Explode\r\n    for (let i = 0; i < this.radius; i++) {\r\n      const particle = new Particle({\r\n        lifeSpan: randomNumBetween(60, 100),\r\n        size: randomNumBetween(1, 3),\r\n        position: {\r\n          x: this.position.x + randomNumBetween(-this.radius/4, this.radius/4),\r\n          y: this.position.y + randomNumBetween(-this.radius/4, this.radius/4)\r\n        },\r\n        velocity: {\r\n          x: randomNumBetween(-1.5, 1.5),\r\n          y: randomNumBetween(-1.5, 1.5)\r\n        }\r\n      });\r\n      this.create(particle, 'particles');\r\n    }\r\n\r\n    // Break into smaller asteroids\r\n    if(this.radius > 10){\r\n      for (let i = 0; i < 2; i++) {\r\n        let asteroid = new Asteroid({\r\n\r\n          size: this.radius/2,\r\n          position: {\r\n            x: randomNumBetween(-10, 20)+this.position.x,\r\n            y: randomNumBetween(-10, 20)+this.position.y\r\n          },\r\n          create: this.create.bind(this),\r\n          addScore: this.addScore.bind(this)\r\n        });\r\n        this.create(asteroid, 'asteroids');\r\n      }\r\n    }\r\n  }\r\n\r\n  render(state){\r\n    // Move\r\n    this.position.x += this.velocity.x;\r\n    this.position.y += this.velocity.y;\r\n\r\n    // Rotation\r\n    this.rotation += this.rotationSpeed;\r\n    if (this.rotation >= 360) {\r\n      this.rotation -= 360;\r\n    }\r\n    if (this.rotation < 0) {\r\n      this.rotation += 360;\r\n    }\r\n\r\n    // Screen edges\r\n    if(this.position.x > state.screen.width + this.radius) this.position.x = -this.radius;\r\n    else if(this.position.x < -this.radius) this.position.x = state.screen.width + this.radius;\r\n    if(this.position.y > state.screen.height + this.radius) this.position.y = -this.radius;\r\n    else if(this.position.y < -this.radius) this.position.y = state.screen.height + this.radius;\r\n\r\n    // Draw\r\n    const context = state.context;\r\n    context.save();\r\n    context.translate(this.position.x, this.position.y);\r\n    context.rotate(this.rotation * Math.PI / 180);\r\n    context.strokeStyle = 'rgb(202, 109, 57)';\r\n    context.lineWidth = 2;\r\n    context.beginPath();\r\n    context.moveTo(0, -this.radius);\r\n    for (let i = 1; i < this.vertices.length; i++) {\r\n      context.lineTo(this.vertices[i].x, this.vertices[i].y);\r\n    }\r\n    context.closePath();\r\n    context.stroke();\r\n    context.restore();\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Ship from './Ship';\r\nimport Asteroid from './Asteroid';\r\nimport { randomNumBetweenExcluding } from './helpers'\r\n\r\nconst KEY = {\r\n  LEFT:  37,\r\n  RIGHT: 39,\r\n  UP: 38,\r\n  A: 65,\r\n  D: 68,\r\n  W: 87,\r\n  SPACE: 32\r\n};\r\n\r\nexport class Reacteroids extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      screen: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n        ratio: window.devicePixelRatio || 1,\r\n      },\r\n      context: null,\r\n      keys : {\r\n        left  : 0,\r\n        right : 0,\r\n        up    : 0,\r\n        down  : 0,\r\n        space : 0,\r\n        lpm: 0,\r\n      },\r\n      asteroidCount: 3,\r\n      currentScore: 0,\r\n      topScore: localStorage['topscore'] || 0,\r\n      inGame: false\r\n    }\r\n    this.ship = [];\r\n    this.asteroids = [];\r\n    this.bullets = [];\r\n    this.particles = [];\r\n  }\r\n\r\n  handleResize(value, e){\r\n    this.setState({\r\n      screen : {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n        ratio: window.devicePixelRatio || 1,\r\n      }\r\n    });\r\n  }\r\n\r\n  handleKeys(value, e){\r\n    let keys = this.state.keys;\r\n    // if(e.keyCode === KEY.LEFT   || e.keyCode === KEY.A) keys.left  = value;\r\n    // if(e.keyCode === KEY.RIGHT  || e.keyCode === KEY.D) keys.right = value;\r\n    // if(e.keyCode === KEY.UP     || e.keyCode === KEY.W) keys.up    = value;\r\n    // if(e.keyCode === KEY.SPACE) \r\n    keys.space = value;\r\n    this.setState({\r\n      keys : keys\r\n    });\r\n    console.log(e);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keyup',   this.handleKeys.bind(this, false));\r\n    // window.addEventListener('keydown', this.handleKeys.bind(this, true));\r\n    window.addEventListener('mousedown', this.handleKeys.bind(this, true));\r\n    window.addEventListener('mouseup', this.handleKeys.bind(this, false));\r\n    window.addEventListener('resize',  this.handleResize.bind(this, false));\r\n\r\n    const context = this.refs.canvas.getContext('2d');\r\n    this.setState({ context: context });\r\n    this.startGame();\r\n    requestAnimationFrame(() => {this.update()});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keyup', this.handleKeys);\r\n    window.removeEventListener('keydown', this.handleKeys);\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  update() {\r\n    const context = this.state.context;\r\n    const keys = this.state.keys;\r\n    const ship = this.ship[0];\r\n\r\n    context.save();\r\n    context.scale(this.state.screen.ratio, this.state.screen.ratio);\r\n\r\n    // Motion trail\r\n    context.fillStyle = '#f8f8f8';\r\n    context.globalAlpha = 0.4;\r\n    context.fillRect(0, 0, this.state.screen.width, this.state.screen.height);\r\n    context.globalAlpha = 1;\r\n\r\n    // Next set of asteroids\r\n    if(!this.asteroids.length){\r\n      let count = this.state.asteroidCount + 1;\r\n      this.setState({ asteroidCount: count });\r\n      this.generateAsteroids(count)\r\n    }\r\n\r\n    // Check for colisions\r\n    this.checkCollisionsWith(this.bullets, this.asteroids);\r\n    this.checkCollisionsWith(this.ship, this.asteroids);\r\n\r\n    // Remove or render\r\n    this.updateObjects(this.particles, 'particles')\r\n    this.updateObjects(this.asteroids, 'asteroids')\r\n    this.updateObjects(this.bullets, 'bullets')\r\n    this.updateObjects(this.ship, 'ship')\r\n\r\n    context.restore();\r\n\r\n    // Next frame\r\n    requestAnimationFrame(() => {this.update()});\r\n  }\r\n\r\n  addScore(points){\r\n    if(this.state.inGame){\r\n      this.setState({\r\n        currentScore: this.state.currentScore + points,\r\n      });\r\n    }\r\n  }\r\n\r\n  startGame(){\r\n    this.setState({\r\n      inGame: true,\r\n      currentScore: 0,\r\n    });\r\n\r\n    // Make ship\r\n    let ship = new Ship({\r\n      position: {\r\n        x: this.state.screen.width/2,\r\n        y: this.state.screen.height/2\r\n      },\r\n      create: this.createObject.bind(this),\r\n      onDie: this.gameOver.bind(this)\r\n    });\r\n    this.createObject(ship, 'ship');\r\n\r\n    // Make asteroids\r\n    this.asteroids = [];\r\n    this.generateAsteroids(this.state.asteroidCount)\r\n\r\n    document.getElementById('gameBoard').addEventListener('mousemove', (event) => {\r\n      const cords = this.showCoords(event)\r\n      \r\n      //przeliczenie na stopnie\r\n      const p1 = {\r\n        x: this.state.screen.width / 2,\r\n        y: this.state.screen.height / 2\r\n      };\r\n\r\n      var p2 = {\r\n        x: cords[0],\r\n        y: cords[1]\r\n      };\r\n\r\n      const angleDeg = Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;\r\n      \r\n      //przypisanie do statku zmiennej rotation\r\n      ship.rotation = angleDeg + 90;  \r\n    })\r\n\r\n  }\r\n\r\n  showCoords(event) {\r\n    const x = event.clientX;\r\n    const y = event.clientY;\r\n    return [x,y]\r\n  }\r\n\r\n  gameOver(){\r\n    this.setState({\r\n      inGame: false,\r\n    });\r\n\r\n    // Replace top score\r\n    if(this.state.currentScore > this.state.topScore){\r\n      this.setState({\r\n        topScore: this.state.currentScore,\r\n      });\r\n      localStorage['topscore'] = this.state.currentScore;\r\n    }\r\n  }\r\n\r\n  generateAsteroids(howMany){\r\n    let asteroids = [];\r\n    let ship = this.ship[0];\r\n    for (let i = 0; i < howMany; i++) {\r\n      let asteroid = new Asteroid({\r\n        size: 40,\r\n        position: {\r\n          x: randomNumBetweenExcluding(0, this.state.screen.width, ship.position.x-60, ship.position.x+60),\r\n          y: randomNumBetweenExcluding(0, this.state.screen.height, ship.position.y-60, ship.position.y+60)\r\n        },\r\n        create: this.createObject.bind(this),\r\n        addScore: this.addScore.bind(this)\r\n      });\r\n      this.createObject(asteroid, 'asteroids');\r\n    }\r\n  }\r\n\r\n  createObject(item, group){\r\n    this[group].push(item);\r\n  }\r\n\r\n  updateObjects(items, group){\r\n    let index = 0;\r\n    for (let item of items) {\r\n      if (item.delete) {\r\n        this[group].splice(index, 1);\r\n      }else{\r\n        items[index].render(this.state);\r\n      }\r\n      index++;\r\n    }\r\n  }\r\n\r\n  checkCollisionsWith(items1, items2) {\r\n    var a = items1.length - 1;\r\n    var b;\r\n    for(a; a > -1; --a){\r\n      b = items2.length - 1;\r\n      for(b; b > -1; --b){\r\n        var item1 = items1[a];\r\n        var item2 = items2[b];\r\n        if(this.checkCollision(item1, item2)){\r\n          item1.destroy();\r\n          item2.destroy();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  checkCollision(obj1, obj2){\r\n    var vx = obj1.position.x - obj2.position.x;\r\n    var vy = obj1.position.y - obj2.position.y;\r\n    var length = Math.sqrt(vx * vx + vy * vy);\r\n    if(length < obj1.radius + obj2.radius){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    let endgame;\r\n    let message;\r\n\r\n    if (this.state.currentScore <= 0) {\r\n      message = '0 points... So sad.';\r\n    } else if (this.state.currentScore >= this.state.topScore){\r\n      message = 'Top score with ' + this.state.currentScore + ' points. Woo!';\r\n    } else {\r\n      message = this.state.currentScore + ' Points though :)'\r\n    }\r\n\r\n    if(!this.state.inGame){\r\n      endgame = (\r\n        <div className=\"endgame\">\r\n          <p>Game over, man!</p>\r\n          <p>{message}</p>\r\n          <button\r\n            onClick={ this.startGame.bind(this) }>\r\n            try again?\r\n          </button>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        { endgame }\r\n        <span className=\"score current-score\" >Score: {this.state.currentScore}</span>\r\n        <span className=\"score top-score\" >Top Score: {this.state.topScore}</span>\r\n        <span className=\"controls\" >\r\n          Use [A][S][W][D] or [←][↑][↓][→] to MOVE<br/>\r\n          Use [SPACE] to SHOOT\r\n        </span>\r\n        <canvas id=\"gameBoard\" ref=\"canvas\"\r\n          width={this.state.screen.width * this.state.screen.ratio}\r\n          height={this.state.screen.height * this.state.screen.ratio}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const ScoresBarCont = styled.div`\r\n    width: 250px;\r\n    height: 500px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n`\r\nexport const UserName = styled.div`\r\n    width: 140px;\r\n    height: 40px;\r\n    margin: 0 auto;\r\n    border-radius: 5px;\r\n    background-color: green;\r\n`","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\nfunction ScoresMenu() {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  function handleClick(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button aria-owns={open ? 'fade-menu' : undefined} aria-haspopup=\"true\" onClick={handleClick}>\r\n        Game Scores\r\n      </Button>\r\n      <Menu\r\n        id=\"fade-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Fade}\r\n      >\r\n        <MenuItem onClick={handleClose}>Your scores</MenuItem>\r\n        <MenuItem onClick={handleClose}>Best week scores</MenuItem>\r\n        <MenuItem onClick={handleClose}>All scores</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScoresMenu;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { ScoresBarCont } from './ScoresBarStyles';\r\nimport { UserName } from './ScoresBarStyles';\r\nimport ScoresMenu from './ScoresMenu/ScoresMenu'\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport const ScoresBar = (props) => {\r\n\r\n    const useStyles = makeStyles({\r\n        root: {\r\n          background: 'linear-gradient(45deg, #FE6B8B 50%, #FF8E53 90%)',\r\n          border: 0,\r\n          borderRadius: 3,\r\n          boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n          color: 'white',\r\n          padding: '0 30px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'center',\r\n          alignContent: 'center',\r\n        },\r\n      });\r\n    \r\n    const classes = useStyles();\r\n\r\n    const styles = {\r\n        startButtonStyle: {\r\n            fontSize: 35\r\n        }\r\n    }\r\n\r\n    return(\r\n        <ScoresBarCont className={classes.root}>\r\n            <Button style = {styles.startButtonStyle} onClick={() => {props.setCurrentScreen('game')}}>Start game</Button>\r\n            <ScoresMenu style = {styles.startButtonStyle}/>\r\n        </ScoresBarCont>\r\n    )\r\n}\r\n\r\nfunction setScores() {\r\n    axios.get(\"http://localhost:3000/api/scores\")\r\n      .then(res => {\r\n          console.log(res.data);\r\n      })\r\n      .catch(error => {\r\n          console.log(error);\r\n      });\r\n};\r\nexport default setScores;","const config = {\r\n  server_url:\r\n    \"https://us-central1-livechat-experiments.cloudfunctions.net/restApi\",\r\n    // server_url:'api.livechatinc.com',\r\n  account_url: \"https://accounts.livechatinc.com/\",\r\n  client_id: 'b9a9ce57595f6814655643cbf9ddaa96'\r\n}\r\n\r\nexport default config;","import { ScoresBar } from './components/ScoresBar'\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { accountsSdk } from '@livechat/accounts-sdk';\r\nimport {Reacteroids} from './Reacteroids';\r\nimport config from './config.js';\r\n\r\nconst App = () => {\r\n  // const client_id = 'b9a9ce57595f6814655643cbf9ddaa96';\r\n  // const redirectUrl = 'http://localhost:3000';\r\n\r\n  const [accessToken, setAccessToken] = useState(null);\r\n  const [currentScreen, setCurrentScreen] = useState('start');\r\n\r\n  useEffect(() => {\r\n    const { client_id, account_url } = config;\r\n    accountsSdk.init({\r\n      client_id,\r\n      onIdentityFetched: (error, data) => {\r\n        if (data && data.access_token) {\r\n          console.warn(accessToken);\r\n          setAccessToken(data.access_token);\r\n        } else {\r\n          window.location.href = `${account_url}?response_type=token&client_id=${client_id}&redirect_uri=${\r\n            window.location.href\r\n          }`;\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  const handleClick = async () => {\r\n    const test = await axios.get(`${config.server_url}/agents/`, {headers: {'X-API-Version': '2', Authorization: `Bearer ${accessToken}`}});\r\n    console.log(test);\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n    {currentScreen === 'start' ? \r\n      <ScoresBar setCurrentScreen={setCurrentScreen}/>\r\n      :\r\n      <Reacteroids />}\r\n      {/* <button onClick={() => {handleClick()}}>Download from livechat API</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Reacteroids } from './Reacteroids';\r\nimport App from './App';\r\nimport style from './style.css';\r\n\r\nrender(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}